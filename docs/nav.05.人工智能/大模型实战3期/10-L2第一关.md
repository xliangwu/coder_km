# 10.Lagent 自定义你的 Agent 智能体

## 1.使用 Lagent 自定义一个智能体，并使用 Lagent Web Demo 成功部署与调用

### 1.1 Lagent智能体

[Lagent](https://lagent.readthedocs.io/zh-cn/latest/get_started/overview.html#lagent) 是一个轻量级开源智能体框架，旨在让用户可以高效地构建基于大语言模型的智能体。同时它也提供了一些典型工具以增强大语言模型的能力.

Lagent 包含三个主要模块：agents，llms 和 actions。
- agents 实现了多种智能体，如 ReAct，AutoGPT。
- llms 支持多种大语言模型，包括在 HuggingFace 上托管的开源模型（Llama-2, InterLM）及 GPT3.5/4 等闭源模型。
- actions 包含一系列工具，并提供工具执行器来统一管理

详细参考 [Lagent文档](https://lagent.readthedocs.io/zh-cn/latest/get_started/overview.html#lagent)

### 1.2 环境安装
```bash
# 创建环境
conda create -n agent_camp3 python=3.10 -y
# 激活环境
conda activate agent_camp3
# 安装 torch
conda install pytorch==2.1.2 torchvision==0.16.2 torchaudio==2.1.2 pytorch-cuda=12.1 -c pytorch -c nvidia -y
# 安装其他依赖包
pip install termcolor==2.4.0
pip install lmdeploy==0.5.2

#安装 lagent
# 创建目录以存放代码
mkdir -p /root/agent_camp3
cd /root/agent_camp3
git clone https://github.com/InternLM/lagent.git
cd lagent && git checkout 81e7ace && pip install -e . && cd ..
```

### 1.3 Lagent Web Demo
```bash
conda activate agent_camp3
# 窗口1
lmdeploy serve api_server /share/new_models/Shanghai_AI_Laboratory/internlm2_5-7b-chat --model-name internlm2_5-7b-chat

# 窗口2
cd /root/agent_camp3/lagent
streamlit run examples/internlm2_agent_web_demo.py
```
两个都启动好之后，浏览器访问 http://localhost:8501，测试功能。

<br><br>
<Vssue :title="$title" />

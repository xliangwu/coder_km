# 00-容器化部署

## 什么是容器化?

容器化是一种软件部署流程，可将应用程序的代码与应用程序在任何基础设施上运行所需的所有文件和库进行捆绑。通常，要在计算机上运行任何应用程序，必须安装与计算机操作系统匹配的应用程序版本。例如，您需要在 Windows 计算机上安装 Windows 版本的软件包。但是，借助容器化，您可以创建能够在所有类型的设备和操作系统上运行的单个软件包或容器。 

## 容器化有哪些优势？

> 由于以下优势，开发人员使用容器化来构建和部署现代应用程序。 

- **便携性**

软件开发人员使用容器化在多个环境中部署应用程序，而无需重新编写程序代码。他们只需构建一个应用程序，然后将其部署到多个操作系统上。例如，他们在 Linux 和 Windows 操作系统上运行相同的容器。开发人员还使用容器将传统应用程序代码升级到现代版本进行部署。

- **可扩展性**

容器是可以高效运行的轻量级软件组件。例如，虚拟机可以更快地启动容器化应用程序，因其不需要引导操作系统。因此，软件开发人员可以轻松在单个计算机上为不同的应用程序添加多个容器。容器集群使用来自相同共享操作系统的计算资源，但一个容器不会干扰其他容器的运行。  

- **容错能力**

软件开发团队使用容器来构建容错应用程序。他们使用多个容器在云上运行微服务。由于容器化微服务在独立的用户空间中运行，因此单个故障容器不会影响其他容器。这提高了应用程序的弹性和可用性

- **敏捷性**

容器化应用程序在独立的计算环境中运行。软件开发人员可以进行故障排除并更改应用程序代码，而不会干扰操作系统、硬件或其他应用程序服务。他们可以缩短软件发布周期，并使用容器模型快速进行更新。

## 什么是容器编排？

容器编排是一种能够自动管理容器的软件技术。这是现代云应用程序开发所必需的，因为应用程序可能在其各自的容器中包含数千项微服务。大量容器化微服务使软件开发人员无法手动管理它们。

### 容器编排的优势

开发人员使用容器编排工具自动启动、停止和管理容器。容器编排工具使开发人员能够精确扩展云应用程序并避免人为错误。例如，您可以验证容器是否使用来自主机平台的足够资源进行部署。 

### 容器技术有哪些类型？

> 以下是开发人员用于容器化的一些热门技术示例。



- Docker

Docker 或 Docker Engine 是一种热门的开源容器运行时，使软件开发人员能够在各种平台上构建、部署和测试容器化应用程序。Docker 容器是使用 Docker 框架创建的应用程序和相关文件的独立软件包。

- K8s

Kubernetes 是一种热门的开源容器编排工具，软件开发人员使用它来部署、扩展和管理大量微服务。Kubernetes 有一个声明式模型，可更轻松地实现容器自动化。声明式模型确保 Kubernetes 根据配置文件采取适当的操作以满足要求。 

## 什么是云原生？

技术的变革，一定是思想先行，云原生是一种构建和运行应用程序的方法，是一套技术体系和方法论。云原生（CloudNative）是一个组合词，Cloud+Native。Cloud表示应用程序位于云中，而不是传统的数据中心；Native表示应用程序从设计之初即考虑到云的环境，原生为云而设计，在云上以最佳姿势运行，充分利用和发挥云平台的弹性+分布式优势。

Pivotal公司的Matt Stine于2013年首次提出云原生（CloudNative）的概念；2015年，云原生刚推广时，Matt Stine在《迁移到云原生架构》一书中定义了符合云原生架构的几个特征：12因素、微服务、自敏捷架构、基于API协作、扛脆弱性；到了2017年，Matt Stine在接受InfoQ采访时又改了口风，将云原生架构归纳为模块化、可观察、可部署、可测试、可替换、可处理6特质；而Pivotal最新官网对云原生概括为4个要点：**DevOps+持续交付+微服务+容器**。

![](https://pic3.zhimg.com/80/v2-7913f6e74f38682804d36f88c4fb4882_1440w.webp)

2015年云原生计算基金会（CNCF）成立，CNCF掺和进来后，最初把云原生定义为包括：容器化封装+自动化管理+面向微服务；到了2018年，CNCF又更新了云原生的定义，把服务网格(Service Mesh)和声明式API给加了进来。

详细参考 [什么是云原生？这回终于有人讲明白了](https://zhuanlan.zhihu.com/p/150190166)

总而言之，符合云原生架构的应用程序应该是：采用开源堆栈（K8S+Docker）进行容器化，基于微服务架构提高灵活性和可维护性，借助敏捷方法、DevOps支持持续迭代和运维自动化，利用云平台设施实现弹性伸缩、动态调度、优化资源利用率。